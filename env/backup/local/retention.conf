[retention]
# Number of daily backups to keep
keep_daily = 7

# Number of weekly backups to keep
keep_weekly = 4

# Number of monthly backups to keep
keep_monthly = 3

# Number of yearly backups to keep
keep_yearly = 1

# Compression method (gzip, bzip2, xz, zstd)
compression = zstd

# Compression level (1-9, where 9 is highest compression)
compression_level = 3

# Whether to verify backups after creation
verify_backups = true

# Directories to exclude from backup
exclude_dirs = "/var/www/nextcloud/data/*/cache/* /var/www/nextcloud/data/*/files_*/cache/* /var/www/nextcloud/data/*/files_trashbin/* /var/www/nextcloud/data/*/files_versions/* /var/www/nextcloud/data/*/uploads/* /var/www/nextcloud/data/*/preview/*"

# Database backup settings
[database]
# Database type (mysql, pgsql, sqlite)
type = mysql

# Database name
name = nextcloud

# Database user
user = nextcloud

# Database password
# Note: In production, use environment variables or a secure vault for this
password = your_secure_db_password

# Database host
host = localhost

# Additional mysqldump options
extra_options = "--single-transaction --quick"
